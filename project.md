# Проект

## Задание

Нужно разработать приложение для публикации.
Приложение должно реализовывать следующие сценарии(usecases):

+ регистрация пользователя
+ вход в систему
+ выход из системы
+ создание поста
+ редактирование поста
+ удаление поста
+ отображение поста
+ отображение списка всех постов

На старте проекта мы должны решить,какой язык программирования испльзовать.
В нашем случае это Clojure.

Заказчик еще не определился, как это приложение будет доставляться пользователям.
Будет ли это веб-приложение, мобильное приложение или одностраничное js приложение.

Мы ожидаем, что заказчик будет вносить изменения по ходу проекта.
Мы не хотим переделывать работу, поэтому будем реализовывать необходимый минимум и
откладывать принятие решений.

## Clean architecture

Мы будем строить проект исходя из clean architecture.

Вот список материалов:

+ [The Clean Architecture](https://8thlight.com/blog/uncle-bob/2012/08/13/the-clean-architecture.html)
+ [Architecture, Use Cases, and High Level Design](https://cleancoders.com/episode/clean-code-episode-7/show)
+ [Clean Architecture: A Craftsman's Guide to Software Structure and Design (Robert C. Martin Series)](https://www.amazon.com/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164)

![https://raw.githubusercontent.com/darkleaf/building-application/master/img/clean_architecture.jpg](Clean architecture)

Clean architecture базируется на принципах SOLID, в особенности на принципе инверсии зависимости(dependency inversion).

Модули системы разбивается на группы по уровням.
Уровень определяется удаленностью от ввода/вывода.
Чем ближе модуль к вводу/выводу, тем он ниже уровнем.

## Предметная область (domain)

DDD вводит понятие сущность(entity), объект-значение(object-value) и служба(service).

Сущность это нечно, что сохраняет идентичностью(identity) в процессе своего жизненного цикла.
Как правило идентичность определяется идентификатором.
В нашем проекте есть только 2 сущности: пользователь и проект.

Объект значение, напротив, полностью оперделяется собственными атрибутами.
Например, это объект, представляющий цвет, деньги и т.п.

Так же нам понадобятся службы(сервисы, services).
Служба - это некая операция без собственного состояния.
В нашем случае это:

+ создание пользователя
+ проверка пароля пользователя
+ создание поста
+ назначение атрибутов посту

Предметная область описывает критические бизнес-правила.
Т.е. если бы у нас не было компьютеров, бизнес все равно бы оперировал понятиями предметной области.

## Сценарии использования (usecases)

Сценарии использования описывают взаимодействие пользователя с приложением.
В противоположность предметной модели, зти бизнес-правила применимы только в контексте компьютерной программы
и не могут выполняться вручную.

Например, комиссию при банковском переводе можно расчитать вручную, поэтому расчет комиссии - это служба предметной области.

Сценарий входа выглядит следующим образом:
+ пользователь передает системе логин и пароль
+ система проверяет, что пользователь еще не вошел в систему
+ система проверяет, что логин и пароль имеют правильный тип и формат
+ система по логину находит пользователя и проверяет пароль
+ система записывает в сессию, что пользователь вошел в систему
